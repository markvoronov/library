# Примеры использования методов API

Для тестов можно использовать Postman. На локальной машине API доступна по пути
```sh
localhost:8087/api
 ```
Так, результирующая строчка для получения всех авторов будет
```sh
localhost:8087/api/authors
Метод: GET
 ```

## Работа с авторами

### Создание автора

```sh
POST /authors
 ```
Пример JSON:
```sh
{
  "first_name": "Александр",
  "last_name": "Пушкин",
  "bio": "Писатель",
  "date_of_birth": "2010-06-12"
}

 ```

### Получение всех авторов

```sh
Get /authors
 ```
### Получение автора по его уникальному идентификатору

```sh
Get /authors/{id}
 ```
### Обновление автора по его уникальному идентификатору

Для обновления возможно передать любое из полей JSON автора, целиком весь JSON, описывающий
автора передавать не обязательно

```sh
PUT /authors/{id}
 ```
В данном примере изменим год рождения Пушкина на 1799-06-06, 

Пример JSON:
```sh
{
  "date_of_birth": "1799-06-06"
}
 ```
### Удаление автора по его уникальному идентификатору

```sh
DELETE /authors/{id}
 ```

## Работа с книгами

### Создание книги

```sh
POST /books
 ```
Пример JSON:
```sh
{
"title": "Гарри Поттер 2",
"author_id": 2,
"year_of_publication": 1991,
"ISBN": "132-064-50"
}
 ```

### Получение всех книг

```sh
GET /books
 ```


### Получение книги по ее уникальному идентификатору

```sh
GET /books/{id}
 ```


### Обновление книги по ее уникальному идентификатору

Для обновления возможно передать любое из полей JSON книги, целиком весь JSON, описывающий
книгу как при ее создании передавать не обязательно

```sh
PUT /books/{id}
 ```
В данном примере изменим название с "Гарри Поттер 2" на "Гарри Поттер", и код публикации
с 1991 на 1998

Пример JSON:
```sh
{
"title": "Гарри Поттер",
"year_of_publication": 1998
}
 ```
### Удаление книги по ее уникальному идентификатору

```sh
DELETE /books/{id}
 ```

### Одновременное обновление информации об авторе и книге
```sh
PUT /book/{book_id}/authors/{author_id}
 ```

Пример JSON:
```sh
{
    "book": {
        "year_of_publication": 2000
    },

    "author": {
        "date_of_birth": "2001-01-01"
    }
}

 ```